1. echo $$USER
> USER should not be removed
// TODO: expand heredoc input here
2. << $"USER" cat
> ...
lazmoud@/home/lazmoud/Desktop/souita: ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |ls | ls |cat -e
==264355== Invalid write of size 4
==264355==    at 0x40582D: consume_sym_pair (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405731: consume_symbol (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x404596: lexer_tokenize (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x402544: parser_lex (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40150A: process_command (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x401454: shell_loop (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4013B6: main (in /home/lazmoud/Desktop/souita/minishell)
==264355==  Address 0x4b88b00 is 240 bytes inside a block of size 256 free'd
==264355==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==264355==    by 0x40DE7F: free_resource (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E038: detach_resource (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E3B7: ft_free (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E374: ft_realloc (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405A0F: tok_array_expand_anyhow (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405A9A: tok_array_expand (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4076F4: token_next (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4056F8: consume_symbol (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x404596: lexer_tokenize (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x402544: parser_lex (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40150A: process_command (in /home/lazmoud/Desktop/souita/minishell)
==264355==  Block was alloc'd at
==264355==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==264355==    by 0x40F3B5: ft_calloc (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40DE09: allocate_tracked_memory (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E3D4: alloc (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405ACF: tok_array_construct (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x404495: lexer_init (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40252C: parser_lex (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40150A: process_command (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x401454: shell_loop (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4013B6: main (in /home/lazmoud/Desktop/souita/minishell)
==264355== 
==264355== Invalid read of size 8
==264355==    at 0x40635B: token_push_back (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40585A: consume_sym_pair (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405731: consume_symbol (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x404596: lexer_tokenize (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x402544: parser_lex (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40150A: process_command (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x401454: shell_loop (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4013B6: main (in /home/lazmoud/Desktop/souita/minishell)
==264355==  Address 0x4b88b08 is 248 bytes inside a block of size 256 free'd
==264355==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==264355==    by 0x40DE7F: free_resource (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E038: detach_resource (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E3B7: ft_free (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E374: ft_realloc (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405A0F: tok_array_expand_anyhow (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405A9A: tok_array_expand (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4076F4: token_next (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4056F8: consume_symbol (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x404596: lexer_tokenize (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x402544: parser_lex (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40150A: process_command (in /home/lazmoud/Desktop/souita/minishell)
==264355==  Block was alloc'd at
==264355==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==264355==    by 0x40F3B5: ft_calloc (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40DE09: allocate_tracked_memory (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E3D4: alloc (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405ACF: tok_array_construct (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x404495: lexer_init (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40252C: parser_lex (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40150A: process_command (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x401454: shell_loop (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4013B6: main (in /home/lazmoud/Desktop/souita/minishell)
==264355== 
==264355== Invalid read of size 8
==264355==    at 0x40636D: token_push_back (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40585A: consume_sym_pair (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405731: consume_symbol (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x404596: lexer_tokenize (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x402544: parser_lex (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40150A: process_command (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x401454: shell_loop (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4013B6: main (in /home/lazmoud/Desktop/souita/minishell)
==264355==  Address 0x4b88b08 is 248 bytes inside a block of size 256 free'd
==264355==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==264355==    by 0x40DE7F: free_resource (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E038: detach_resource (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E3B7: ft_free (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E374: ft_realloc (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405A0F: tok_array_expand_anyhow (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405A9A: tok_array_expand (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4076F4: token_next (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4056F8: consume_symbol (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x404596: lexer_tokenize (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x402544: parser_lex (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40150A: process_command (in /home/lazmoud/Desktop/souita/minishell)
==264355==  Block was alloc'd at
==264355==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==264355==    by 0x40F3B5: ft_calloc (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40DE09: allocate_tracked_memory (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40E3D4: alloc (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x405ACF: tok_array_construct (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x404495: lexer_init (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40252C: parser_lex (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x40150A: process_command (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x401454: shell_loop (in /home/lazmoud/Desktop/souita/minishell)
==264355==    by 0x4013B6: main (in /home/lazmoud/Desktop/souita/minishell)
==264355== 
zen: syntax error near unexpected token : |
